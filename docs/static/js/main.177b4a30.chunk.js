(this["webpackJsonpworld-clock-app"]=this["webpackJsonpworld-clock-app"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(11),c=n.n(a),s=n(10),i=n(3),o=n(35),u=n(2),d=n.n(u),l=n(4),p=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://worldclock-app.herokuapp.com/api/timezones");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://worldclock-app.herokuapp.com/api/timezones/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://worldclock-app.herokuapp.com/api/timezones/dbupload",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://worldclock-app.herokuapp.com/api/timezones/dbload");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://worldclock-app.herokuapp.com/api/timezones/dbdelete/".concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=n(0),x=function(e){var t=e.name,n=e.id,a=e.handleDeleteOperation,c=Object(r.useState)({}),s=Object(i.a)(c,2),o=s[0],u=s[1];Object(r.useEffect)((function(){h(t).then((function(e){return u(e)}))}),[t]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"card card-clock my-2 center-block",children:Object(b.jsx)("div",{className:"card-body",children:void 0===o.unixtime?Object(b.jsx)("div",{className:"spinner"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("i",{className:"fas fa-times text-danger mx-2",onClick:function(){m(n),a(n)}}),Object(b.jsx)("h5",{className:"card-title text-dark text-center mb-2",children:o.timezone}),Object(b.jsx)("h6",{className:"card-subtitle text-muted text-center my-2 ",children:o.datetime.slice(0,10)}),Object(b.jsx)("p",{className:"card-text text-success text-center my-2",children:o.datetime.slice(11,16)})]})})})})},g=n(12),O=n.n(g),v=n(13),w=n.n(v),k={container:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",marginBottom:10,marginRight:"auto",marginLeft:"auto"},input:{width:330,height:50,padding:"10px 20px",fontWeight:300,fontSize:16,border:"1px solid #aaa",borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5},inputOpen:{borderBottomLeftRadius:0,borderBottomRightRadius:0},suggestionsContainer:{display:"none"},suggestionsContainerOpen:{display:"block",position:"absolute",top:51,width:330,border:"1px solid #aaa",backgroundColor:"#fff",fontWeight:300,fontSize:16,borderBottomLeftRadius:5,borderBottomRightRadius:5,zIndex:2},suggestionsList:{padding:0,listStyleType:"none"},suggestion:{cursor:"pointer",padding:"10px 20px"},suggestionHighlighted:{backgroundColor:"#ddd"}},y=function(e){var t=e.handleNewTimezone,n=Object(r.useState)([]),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),d=u[0],l=u[1],h=Object(r.useState)([]),f=Object(i.a)(h,2),m=f[0],x=f[1];Object(r.useEffect)((function(){p().then((function(e){return s(e)}))}),[]);var g={placeholder:"Search Continent/Location...",value:d,onChange:function(e,t){var n=t.newValue;l(n)}};return Object(b.jsx)(O.a,{suggestions:m,onSuggestionsFetchRequested:function(e){var t=e.value;x(function(e){var t=e.trim().toLowerCase(),n=t.length;return 0===n?[]:c.filter((function(e){return e.name.toLowerCase().slice(0,n)===t})).slice(0,6)}(t))},onSuggestionsClearRequested:function(){x([])},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return Object(b.jsx)("div",{children:e.name})},inputProps:g,theme:k,onSuggestionSelected:function(e,n){var r={name:n.suggestion.name,id:Math.floor(100*Math.random())};j(r).then((function(e){e.message?w.a.fire({icon:"error",title:"Error",text:"The timezone already exists"}):t(r)})),l("")}})},N=function(){return Object(b.jsx)("div",{className:"footer bg-dark py-4",children:Object(b.jsxs)("div",{className:" text-center p-2",children:[Object(b.jsx)("h5",{className:"text-white d-inline",children:"Created and designed by Daniela Vazquez - \xa92021"}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{className:"text-white d-inline text-secondary",children:" Buenos Aires - Argentina "}),Object(b.jsx)("hr",{className:"w-50"})]})})},S=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){f().then((function(e){return a(e)}))}),[]);var c=function(e){var t=Object(s.a)(n).filter((function(t){return t.id!==e}));a(t)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-app",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row d-flex justify-content-center align-items-center",children:[Object(b.jsxs)("h1",{className:"title-app text-dark text-center my-3",children:["World",Object(b.jsx)("span",{className:"text-danger",children:"Clock"})]}),Object(b.jsx)("div",{className:"search-input",children:Object(b.jsx)(y,{handleNewTimezone:function(e){a([].concat(Object(s.a)(n),[e]))}})})]}),Object(b.jsx)("div",{className:"row d-flex justify-content-center align-items-center",children:n.map((function(e){return Object(b.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(b.jsx)(x,{name:e.name,id:e.id,handleDeleteOperation:c})},Object(o.a)())}))})]})}),Object(b.jsx)(N,{})]})};n(32);c.a.render(Object(b.jsx)(S,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.177b4a30.chunk.js.map